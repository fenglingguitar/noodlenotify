<?xml version="1.0" encoding="UTF-8"?>
<dynamic-hibernate>
	<query name="queue-customergroup-query-list">
	<![CDATA[
		SELECT 
				queue_Nm,
				customerGroup_Nm,
				customer_Num
		FROM CSL_QUEUE_CUSTOMER_GROUP
		WHERE 	1=1
		 		#if($queue_Nm)
					AND queue_Nm = :queue_Nm
				#end
		 		#if($customerGroup_Nm)
					AND customerGroup_Nm = :customerGroup_Nm
				#end
		 		#if($customer_Num)
					AND customer_Num = :customer_Num
				#end
	]]>
	</query>
	
	<query name="queue-customergroup-query-customer">
	<![CDATA[
		SELECT 
				c.customer_Id,
				c.name,
				c.ip,
				c.port,
				c.url,
				c.type,
				c.check_Port,
				c.check_Url,
				c.check_Type,
				c.system_Status,
				c.manual_Status,
				qcg.queue_Nm,
				qcg.customerGroup_Nm,
				qcg.customer_Num
		FROM    CSL_CUSTOMER c, CSL_QUEUE_CUSTOMER_GROUP qcg, CSL_QUEUE_CUSTOMER qc 
		WHERE 	c.customerGroup_Nm = qcg.customerGroup_Nm
				AND qcg.queue_Nm = qc.queue_Nm
				AND c.customer_Id = qc.customer_Id
		 		#if($queue_Nm)
					AND qcg.queue_Nm = :queue_Nm
				#end
		 		#if($customerGroup_Nm)
					AND c.customerGroup_Nm = :customerGroup_Nm
				#end
		 		#if($system_Status)
					AND c.system_Status = :system_Status
				#end
		 		#if($manual_Status)
					AND c.manual_Status = :manual_Status
				#end
		
	]]>
	</query>
	
	<query name="queue-customergroup-query-includelist">
	<![CDATA[
		SELECT 
				qcg.queue_Nm,
				qcg.customer_Num,
				cg.customerGroup_Nm,
				cg.manual_Status
		FROM    CSL_CUSTOMER_GROUP cg, CSL_QUEUE_CUSTOMER_GROUP qcg
		WHERE 	1=1
		 		#if($queue_Nm)
					AND qcg.queue_Nm = :queue_Nm
				#end
		 		#if($customerGroup_Nm)
					AND cg.customerGroup_Nm = :customerGroup_Nm
				#end
		 		#if($customer_Num)
					AND qcg.customer_Num = :customer_Num
				#end
		 		#if($manual_Status)
					AND cg.manual_Status = :manual_Status
				#end
				AND cg.customerGroup_Nm = qcg.customerGroup_Nm
		ORDER BY  qcg.customer_Num 
	]]>
	</query>
	<query name="queue-customergroup-query-excludelist">
	<![CDATA[
		SELECT 
				cg.customerGroup_Nm,
				cg.manual_Status
		FROM    CSL_CUSTOMER_GROUP cg
		WHERE 	1=1
		 		#if($customerGroup_Nm)
					AND cg.customerGroup_Nm LIKE :customerGroup_Nm
				#end
		 		#if($manual_Status)
					AND cg.manual_Status = :manual_Status
				#end
				AND cg.customerGroup_Nm NOT IN (SELECT customerGroup_Nm FROM CSL_QUEUE_CUSTOMER_GROUP  WHERE queue_Nm = :queue_Nm)
	]]>
	</query>
	
	<query name="queue-customergroupnum-query-unuselist">
	<![CDATA[
		SELECT 
				agn.group_Num as customer_Num
		FROM    CSL_AXL_GROUP_NUM agn
		WHERE 	
		 		agn.group_Num NOT IN (SELECT customer_Num FROM CSL_QUEUE_CUSTOMER_GROUP  WHERE queue_Nm = :queue_Nm)
		ORDER BY agn.group_Num	 		
	]]>
	</query>
	
	<query name="queue-customergroup-query-queue">
	<![CDATA[
		SELECT 	
				q.queue_Nm,
				q.is_Repeat,
				q.expire_Time,
				q.manual_Status,
				qcg.customerGroup_Nm
		FROM 	CSL_QUEUE q, CSL_QUEUE_CUSTOMER_GROUP qcg
		WHERE 	1=1
		 		#if($customerGroup_Nm)
					AND qcg.customerGroup_Nm = :customerGroup_Nm
				#end
				#if($queue_Nm)
					AND q.queue_Nm = :queue_Nm
				#end
		 		#if($manual_Status)
					AND q.manual_Status = :manual_Status
				#end
				AND q.queue_Nm = qcg.queue_Nm
	]]>
	</query>
	
	<query name="queue-customergroup-query-byqueue">
	<![CDATA[
		SELECT 	
				q.queue_Nm,
				q.is_Repeat,
				q.expire_Time,
				q.manual_Status,
				qcg.customerGroup_Nm
		FROM 	CSL_QUEUE q, CSL_QUEUE_CUSTOMER_GROUP qcg, CSL_CUSTOMER_GROUP cg
		WHERE 	1=1
		 		#if($customerGroup_Nm)
					AND qcg.customerGroup_Nm = :customerGroup_Nm
				#end
				#if($queue_Nm)
					AND q.queue_Nm = :queue_Nm
				#end
				#if($manual_Status)
					AND cg.manual_Status = :manual_Status
				#end
				AND q.queue_Nm = qcg.queue_Nm
				AND cg.customerGroup_Nm = qcg.customerGroup_Nm
	]]>
	</query>
	
	<query name="queue-customergroup-query-customergroup">
	<![CDATA[
		SELECT 	
				qcg.queue_Nm,
				qcg.customer_Num,
				qcg.customerGroup_Nm,
				cg.manual_Status
		FROM 	CSL_CUSTOMER_GROUP cg, CSL_QUEUE_CUSTOMER_GROUP qcg
		WHERE 	1=1
		 		#if($queue_Nm)
					AND qcg.queue_Nm = :queue_Nm
				#end
		 		#if($customerGroup_Nm)
					AND qcg.customerGroup_Nm = :customerGroup_Nm
				#end
		 		#if($customer_Num)
					AND qcg.customer_Num = :customer_Num
				#end
		 		#if($manual_Status)
					AND cg.manual_Status = :manual_Status
				#end
				AND cg.customerGroup_Nm = qcg.customerGroup_Nm
	]]>
	</query>
	
	
</dynamic-hibernate>